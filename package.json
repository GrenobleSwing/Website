{
  "name": "gs-registration-frontend",
  "version": "0.0.1",
  "description": "application de gestion des inscriptions Ã  GrenobleSwing",
  "devDependencies": {
    "autoprefixer": "latest",
    "browserify": "latest",
    "cssmin": "latest",
    "http-server": "latest",
    "jasmine": "^2.4.1",
    "jshint": "latest",
    "karma": "latest",
    "karma-chrome-launcher": "^1.0.1",
    "karma-firefox-launcher": "^1.0.0",
    "karma-jasmine": "^1.0.2",
    "karma-phantomjs-launcher": "^1.0.1",
    "live-reload": "latest",
    "phantomjs": "^2.1.7",
    "watch": "latest"
  },
  "scripts": {
    "livereload": "live-reload --port 9091 build/",
    "clean": "rm -r build/*",
    "lint": "jshint --config jshint.config.json app/js/components/**",

    "prebuild": "npm run build:clean",
    "build:clean": "rm -r build/*",
    "build:css": "cpx \"node_modules/bootstrap/dist/css/*.css\" \"build/css/vendors\" && cpx \"app/styles/*.css\" \"build/css/\"",
    "build:font": "cpx \"node_modules/bootstrap/fonts/*\" \"build/css/fonts\"",
    "build:appjs": "cat app/js/main.js >> build/js/gs.js",
    "build:js": "mkdir build/js; find app/js/components/ -type f -name \"*.js\" ! -name \"*-config.js\"  ! -name \"app.js\" -exec cat {} \\; >> build/js/gs.js",
    "build:configjs": "find app/js -type f -name \"*-config.js\" -exec cat {} \\; >> build/js/gs.js",
    "build:html" : "cpx \"app/**/*.html\" build --verbose",
    "build:lib" : "cpx \"node_modules/angular/**.js\" \"build/js/vendors\" --verbose && cpx \"node_modules/angular-ui-router/release/**.js\" \"build/js/vendors\" && cpx \"node_modules/angular-resource/**.js\"  \"build/js/vendors\" && cpx \"node_modules/angular-i18n/angular-locale_fr-fr.js\"  \"build/js/vendors\" && cpx \"node_modules/angular-ui-bootstrap/dist/**.js\"  \"build/js/vendors\" && cpx \"node_modules/angular-route/**.js\"  \"build/js/vendors\" && cpx \"node_modules/angular-cookies/**.js\"  \"build/js/vendors\" && cpx \"node_modules/angular-translate/dist/**.js\"  \"build/js/vendors\"  && cpx \"node_modules/angular-messages/**.js\"  \"build/js/vendors\"",
    "build:samples": "mkdir build/resources/ && mkdir build/resources/sample/ && cp app/resources/sample/*.json build/resources/sample/",
    "build": "npm run build:css && npm run build:font && npm run build:js && npm run build:configjs && npm run build:appjs && npm run build:html && npm run build:lib && npm run build:samples",

    "predist": "npm run clean",
    "dist:annotate": "ng-annotate -a dist/gs.js -o dist/gs-annotated.js",
    "dist:appjs": "cat app/js/main.js >> dist/gs.js",
    "dist:css": "autoprefixer -b '> 5%' < app/styles/main.css | cssmin | hashmark -l 8 'dist/main.#.css'",
    "dist:bootstrap": "mkdir -p dist/node_modules/bootstrap/dist/css/ && mkdir -p dist/node_modules/bootstrap/dist/js/ && mkdir -p dist/node_modules/bootstrap/dist/fonts/ && copyfiles 'node_modules/bootstrap/dist/fonts/glyphicons-halflings-regular.woff' 'node_modules/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2' 'node_modules/bootstrap/dist/css/bootstrap.min.css' 'node_modules/bootstrap/dist/js/bootstrap.min.js' dist/",
    "dist:configjs": "find app/js -type f -name \"*-config.js\" -exec cat {} \\; >> dist/gs.js",
    "dist:html": "cp app/index.html dist/ && mkdir dist/partials/ && find app/js/components/ -name '*.html' -exec cp {} dist/partials/  \\;",
    "dist:js": "find app/js/components/ -type f -name \"*.js\" ! -name \"*-config.js\"  ! -name \"app.js\" -exec cat {} \\; >> dist/gs.js",
    "dist:samples": "mkdir dist/resources/ && mkdir dist/resources/sample/ && cp app/resources/sample/*.json dist/resources/sample/",
    "dist:libs": "copyfiles 'node_modules/angular/angular.js' 'node_modules/angular-ui-router/release/angular-ui-router.js'  'node_modules/angular-resource/angular-resource.js' 'node_modules/angular-i18n/angular-locale_fr-fr.js' 'node_modules/angular-ui-bootstrap/dist/*.js' 'node_modules/angular-route/angular-route.js' 'node_modules/angular-cookies/angular-cookies.js' 'node_modules/angular-translate/dist/angular-translate.js' dist/",
    "dist:uglifyjs": "uglifyjs dist/gs-annotated.js --compress --mangle -o dist/gs.min.js",
    "dist": "npm run dist:css && npm run dist:bootstrap && npm run dist:libs && npm run dist:samples && npm run dist:html && npm run dist:js && npm run dist:configjs && npm run dist:appjs && npm run dist:annotate && npm run dist:uglifyjs",
    "dist:clean": "rm -r dist/*",

    "test": "karma start karma.conf.js --singleRun",
    "watch": "parallelshell 'npm run watch:test -s' 'npm run watch:build -s'",
    "watch:test": "karma start",
    "watch:build": "watch 'npm run build' .",
    "prestart": "npm install",
    "start": "http-server ./build -a localhost -p 8000 -c-1",
    "preupdate-webdriver": "npm install",
    "update-webdriver": "webdriver-manager start --standalone",
    "preprotractor": "npm run update-webdriver",
    "protractor": "protractor protractor.conf.js"
  }
}
